# Fitness Platform
FITNESS_DB_PATH=./data/fitness.db
FITNESS_DB_URL=
FITNESS_API_HOST=127.0.0.1
FITNESS_API_PORT=8000
FITNESS_WEB_PORT=8788
FITNESS_REFRESH_SECONDS=3600
FITNESS_SYNC_ON_OPEN_SECONDS=900
RUN_MODE=dev
# Ingestion mode
STRAVA_API_ENABLED=0
# Legacy/local-only ingest (deprecated): only used if STRAVA_API_ENABLED=0 and run_all.js exists.
RUN_STRAVA_SYNC=0
# Optional: enable importing local artifacts (weather/segments) from a strava-local-ingest checkout.
FITNESS_ENABLE_LOCAL_ARTIFACT_IMPORT=0
STRAVA_LOCAL_PATH=../strava-local-ingest

STRAVA_CLIENT_ID=
STRAVA_CLIENT_SECRET=
STRAVA_REFRESH_TOKEN=
STRAVA_ACCESS_TOKEN=
STRAVA_EXPIRES_AT=
FITNESS_STRAVA_USER_ID=
FITNESS_WEATHER_API_ENABLED=1
# Optional: throttle weather backfill per pipeline run.
# FITNESS_WEATHER_API_LIMIT=50
# FITNESS_WEATHER_API_SLEEP=0.2

# Decoupling (Pa:Hr) tuning knobs.
# FITNESS_DECOUPLING_WARMUP_SEC=600
# FITNESS_DECOUPLING_COOLDOWN_SEC=300
# FITNESS_DECOUPLING_GRADE_MAX=0.03
# FITNESS_DECOUPLING_MIN_SAMPLES=20
FITNESS_JWT_SECRET=change-me
FITNESS_JWT_ALG=HS256
FITNESS_JWT_EXP_MINUTES=1440
FITNESS_AUTH_DISABLED=1
FITNESS_AUTH_LOGIN_IP_LIMIT=20
FITNESS_AUTH_LOGIN_USER_LIMIT=5
FITNESS_AUTH_LOGIN_WINDOW_SEC=900
FITNESS_PW_MIN_LEN=10
FITNESS_PW_REQUIRE_CLASSES=2
FITNESS_REFRESH_ENABLED=0
FITNESS_REFRESH_TTL_DAYS=14
FITNESS_LOG_LEVEL=INFO
FITNESS_SENTRY_DSN=
FITNESS_SENTRY_TRACES_SAMPLE_RATE=0.0
FITNESS_SENTRY_PROFILES_SAMPLE_RATE=0.0
FITNESS_ENV=
FITNESS_RELEASE=
# AI assistant (optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5.2-2025-12-11
# HR zones (Karvonen / HRR)
FITNESS_HR_REST=48
FITNESS_HR_MAX=185
FITNESS_HR_ZONE_METHOD=hrr
# Worker reliability
FITNESS_PIPELINE_MAX_RETRIES=2
FITNESS_PIPELINE_BACKOFF_BASE_SEC=5
FITNESS_PIPELINE_BACKOFF_MAX_SEC=120
FITNESS_PIPELINE_FAIL_THRESHOLD=3
FITNESS_PIPELINE_COOLDOWN_SEC=900
FITNESS_PIPELINE_LOCK_TTL_SECONDS=1800
FITNESS_PIPELINE_LOCK_RETRIES=5
FITNESS_PIPELINE_LOCK_RETRY_SEC=2
